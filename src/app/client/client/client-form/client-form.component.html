<main class="nxl-container">
  <div class="nxl-content">
    <div class="col-lg-8 mx-auto py-4 px-lg-5">
     <div class="d-flex justify-content-between align-items-center mb-4">
        <div class="d-flex align-items-center">
          <button class="btn btn-outline-secondary me-3" (click)="goBack()">
            <i class="fas fa-arrow-left"></i>
          </button>
          <h2 class="m-0 text-primary">
            {{ action === 'edit' ? 'Modifier le client' : 'Nouveau client' }}
          </h2>
        </div>
        
        <button
          [disabled]="!isFormValid()"
          type="submit"
          form="clientForm"
          class="btn btn-uniform-height btn-primary"
                    (click)="clientform.ngSubmit.emit()"
        >
          <i class="fas fa-check me-2"></i>
          {{ action === 'edit' ? 'Modifier' : 'Valider' }}
        </button>
      </div>


      <div class="row">
        <div class="col-12">
          <form 
            #clientform="ngForm"
            (ngSubmit)="onSubmitForm(clientform)"
            class="p-4 rounded-4 bg-white shadow-sm needs-validation"
          >
            <!-- Section Informations de base -->
            <div class="row g-3 mb-4">
              <div class="col-md-4">
                <label class="form-label fw-medium text-secondary">
                  Nom <span class="text-danger">*</span>
                </label>
                <div class="input-group">
                  <span class="input-group-text"><i class="fas fa-user"></i></span>
                  <input
                    type="text"
                    class="form-control input-pro"
                    name="nom"
                    [(ngModel)]="nom"
                    required
                  />
                </div>
              </div>

              <div class="col-md-4">
                <label class="form-label fw-medium text-secondary">
                  Prénom <span class="text-danger">*</span>
                </label>
                <div class="input-group">
                  <span class="input-group-text"><i class="fas fa-user"></i></span>
                  <input
                    type="text"
                    class="form-control input-pro"
                    name="prenom"
                    [(ngModel)]="prenom"
                    required
                  />
                </div>
              </div>

              <div class="col-md-4">
                <label class="form-label fw-medium text-secondary">
                  Sexe <span class="text-danger">*</span>
                </label>
                <div class="input-group">
                  <span class="input-group-text"><i class="fas fa-venus-mars"></i></span>
                  <select 
                    class="form-control form-select input-pro"
                    name="sexe"
                    [(ngModel)]="sexe"
                    required
                  >
                    <option disabled value="">Sélectionner le sexe</option>
                    <option value="Homme">Homme</option>
                    <option value="Femme">Femme</option>
                  </select>
                </div>
              </div>
            </div>

            <!-- Section Coordonnées -->
            <div class="row g-3 mb-4">
              <div class="col-md-4">
                <label class="form-label fw-medium text-secondary">Adresse</label>
                <div class="input-group">
                  <span class="input-group-text"><i class="fas fa-map-marker-alt"></i></span>
                  <input
                    type="text"
                    class="form-control input-pro"
                    name="adresse"
                    [(ngModel)]="adresse"
                  />
                </div>
              </div>

              <div class="col-md-4">
                <label class="form-label fw-medium text-secondary">Nationalité</label>
                <div class="input-group">
                  <span class="input-group-text"><i class="fas fa-globe"></i></span>
                  <input
                    type="text"
                    class="form-control input-pro"
                    name="nationalite"
                    [(ngModel)]="nationalite"
                  />
                </div>
              </div>

                      <div class="col-md-4">
                    <label class="form-label fw-medium text-secondary"
                      >Point de vente <span class="text-danger">*</span></label
                    >
                    <div class="input-group">
                      <span class="input-group-text"
                        ><i class="fas fa-store"></i
                      ></span>
                      <select
                        class="form-control form-select input-pro"
                        name="point_de_vente_id"
                        [(ngModel)]="point_de_vente_id"
                        required
                      >
                        <option
                          *ngFor="let point of tbPointdeVente"
                          [value]="point.point_de_vente_id"
                        >
                          {{ point.nom }}
                        </option>
                      </select>
                    </div>
                  </div>

              <div class="col-md-6">
                <label class="form-label fw-medium text-secondary">
                  Email <span class="text-danger">*</span>
                </label>
                <div class="input-group">
                  <span class="input-group-text"><i class="fas fa-envelope"></i></span>
                  <input
                    type="email"
                    class="form-control input-pro"
                    name="email"
                    [(ngModel)]="email"
                    required
                  />
                </div>
              </div>

              <div class="col-md-6">
                <label class="form-label fw-medium text-secondary">
                  Téléphone <span class="text-danger">*</span>
                </label>
                <div class="input-group">
                  <span class="input-group-text"><i class="fas fa-phone"></i></span>
                  <input
                    type="text"
                    class="form-control input-pro"
                    name="telephone"
                    [(ngModel)]="telephone"
                    required
                  />
                </div>
              </div>
            </div>

            <!-- Boutons d'action -->
            <div class="d-flex justify-content-between align-items-center mt-5">
              <div class="text-secondary">
                <span class="text-danger">*</span> Champs obligatoires
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</main>